usethis::use_package("plotly")
usethis::use_package("psychTestR")
usethis::use_package("shiny")
usethis::use_package("tools")
usethis::use_package("tptR")
library(devtools)
check()
check()
prompts_RRT <- tibble::tribble(
~key,                 ~en,                                    ~de,                                            ~de_f,
"RRT_ITEM_HEADER",    "Room Recognition Test",                "Wiedererkennen des Raums",                     "Wiedererkennen des Raums",
"RRT_ITEM_PROMPT",    "Which sounds are from the SAME room?", "Welche Klänge stammen aus dem gleichen Raum?", "Welche Klänge stammen aus dem gleichen Raum?",
"RRT_DEMO_HEADER",    "Introduction: Listening Test 1",       "Einführung: 1. Hörtest",                       "Einführung: 1. Hörtest",
"RRT_DEMO_PROMPT",
"In this listening test, you will be presented with three different sounds: A, B, and X. A and B have different spatial characteristics, and the sound X matches either A or B. Your task is to identify whether A and X or B and X come from the same acoustic environment. You can start and stop playback by clicking the respective buttons. There are 20 trials in this test, and in each one, the rooms and the associated sound examples change. Take your time and listen carefully to the differences between the examples.",
"Im folgenden Hörtest werden Ihnen jeweils drei verschiedene Klänge präsentiert: A, B und X. A und B haben einen unterschiedlichen Raumklang, der von X entspricht entweder dem von A oder von B. Ihre Aufgabe ist es, zu erkennen, ob entweder A und X oder B und X aus dem gleichen Raum stammen. Durch Klicken der jeweiligen Schaltflächen können Sie die Wiedergabe starten und stoppen. Es gibt 20 Durchläufe bei diesem Versuch, in jedem wechseln die Räume und die zugeordneten Klangbeispiele. Nehmen Sie sich ruhig Zeit für den Versuch und hören Sie aufmerksam auf die Unterschiede zwischen den Beispielen.",
"Im folgenden Hörtest werden Ihnen jeweils drei verschiedene Klänge präsentiert: A, B und X. A und B haben einen unterschiedlichen Raumklang, der von X entspricht entweder dem von A oder von B. Ihre Aufgabe ist es, zu erkennen, ob entweder A und X oder B und X aus dem gleichen Raum stammen. Durch Klicken der jeweiligen Schaltflächen können Sie die Wiedergabe starten und stoppen. Es gibt 20 Durchläufe bei diesem Versuch, in jedem wechseln die Räume und die zugeordneten Klangbeispiele. Nehmen Sie sich ruhig Zeit für den Versuch und hören Sie aufmerksam auf die Unterschiede zwischen den Beispielen.",
"RRT_BUTTON_NEXT",      "Next",                               "Weiter",                                       "Weiter",
"RRT_VALIDATE_ERROR", "Please select an answer!",             "Bitte wählen Sie eine Antwort!",               "Bitte wählen Sie eine Antwort!",
"RRT_DEMO_BUTTON",    "Start test",                           "Test beginnen",                                "Test beginnen",
"RRT_FEEDBACK_HEADER","Listening test completed",             "Hörtest abgeschlossen",                        "Hörtest abgeschlossen",
"RRT_FEEDBACK_TEXT1", "Congratulations, you recognized",      "Herzlichen Glückwunsch, Sie haben",            "Herzlichen Glückwunsch, Sie haben",
"RRT_FEEDBACK_TEXT2", "rooms!",                               "Räume wiedererkannt!",                         "Räume wiedererkannt!",
"RRT_FEEDBACK_PLOT",  "Your test score in %",                 "Ihr Testscore in %",                           "Ihr Testscore in %",
"ENDNOTE_HEADER",     "Thank you for participating!",         "Vielen Dank für Ihre Teilnahme!",              "Vielen Dank für Ihre Teilnahme!",
"ENDNOTE_SAVED",      "Your results have been saved.",        "Ihre Ergebnisse wurden gespeichert.",          "Ihre Ergebnisse wurden gespeichert.",
"ENDNOTE_CLICKWORKER",
"If you are participating via Clickworker, please use this code to confirm your particpation: RALEvalid_2025",
"Wenn Sie über Clickworker teilgenommen haben, nutzen Sie den folgenden Code zur Teilnahmebestätigung: RALEvalid_2025",
"Wenn Sie über Clickworker teilgenommen haben, nutzen Sie den folgenden Code zur Teilnahmebestätigung: RALEvalid_2025",
"ENDNOTE_CLOSE",      "You can close this window now.",       "Sie können dieses Fenster jetzt schließen.",   "Sie können dieses Fenster jetzt schließen.",
"RMT_ITEM_HEADER",    "Reverberation Matching Test",          "Anpassen des Nachhalls",                                 "Anpassen des Nachhalls",
"RMT_ITEM_PROMPT",
"Listen to both sounds and use the slider to match your sound to the target sound",
"Hören Sie sich die Klangbeispiele an und passen Sie den Ihren Klang mit dem Slider an den Zielklang an.",
"Hören Sie sich die Klangbeispiele an und passen Sie den Ihren Klang mit dem Slider an den Zielklang an.",
"RMT_TARGET_LABEL",   "Target sound",                         "Zielklang",                                              "Zielklang",
"RMT_STIMULUS_LABEL", "Your sound",                           "Ihr Klang",                                              "Ihr Klang",
"RMT_BUTTON_NEXT",    "Next",                                 "Weiter",                                                 "Weiter",
"RMT_DEMO_HEADER",    "Introduction: Listening Test 2",       "Einführung: 2. Hörtest",                                 "Einführung: 2. Hörtest",
"RMT_DEMO_PROMPT1",
"This listening test follows the same logic as the timbre perception test you have already completed. Here, too, you will see a scale with 30 comparison sounds. You can start and stop playback of the sounds by clicking the two buttons. It is always the same short instrumental piece, but the comparison sounds are arranged on the scale so that the reverberation decreases from left to right. Listen to a few sounds across the scale to get familiar with the principle.",
"Der folgende Hörtest basiert auf der selben Testlogik wie der Klangwarnehmungstest, den Sie bereits abgeschlossen haben. Auch hier gibt es eine Skale mit diesmal 30 Vergleichsklängen. Durch Klicken der beiden Schaltflächen lässt sich die Audiowiedergabe der jeweiligen Klänge starten und stoppen. Es handelt sich immer um das gleiche kurze Instrumentalstück, die Vergleichsklänge sind auf der Skala jedoch so angeordnet, dass der Nachhall der Klangbeispiele von Links nach Rechts abnimmt. Hören Sie sich exemplarisch ein paar Klänge auf dieser Skala an, um sich mit dem Prinzip vertraut zu machen. ",
"Der folgende Hörtest basiert auf der selben Testlogik wie der Klangwarnehmungstest, den Sie bereits abgeschlossen haben. Auch hier gibt es eine Skale mit diesmal 30 Vergleichsklängen. Durch Klicken der beiden Schaltflächen lässt sich die Audiowiedergabe der jeweiligen Klänge starten und stoppen. Es handelt sich immer um das gleiche kurze Instrumentalstück, die Vergleichsklänge sind auf der Skala jedoch so angeordnet, dass der Nachhall der Klangbeispiele von Links nach Rechts abnimmt. Hören Sie sich exemplarisch ein paar Klänge auf dieser Skala an, um sich mit dem Prinzip vertraut zu machen. ",
"RMT_DEMO_PROMPT2",
"In addition to the scale, a reference sound will be presented, which you can listen to using an extra button. This reference always exactly matches one of the sounds on the scale: Your task is to identify which level on the scale it corresponds to.",
"Zusätzlich zu dieser Skala wird Ihnen im Versuch ein Referenzklang präsentiert, der über eine zusätzliche Schaltfläche angehört werden kann. Diese Referenz entspricht immer genau einem Klang auf der Skala: Ihre Aufgabe ist es, anzugeben, welche Stufe auf der Skala das ist.",
"Zusätzlich zu dieser Skala wird Ihnen im Versuch ein Referenzklang präsentiert, der über eine zusätzliche Schaltfläche angehört werden kann. Diese Referenz entspricht immer genau einem Klang auf der Skala: Ihre Aufgabe ist es, anzugeben, welche Stufe auf der Skala das ist.",
"RMT_DEMO_PROMPT3",
"This test consists of 8 trials, but always focuses on the same acoustic feature: Reverberation. After each trial, the scale’s range will be randomly shifted to the left or right — for example, instead of covering reverberation times from 1.5–2 seconds, it may shift to 1.7–2.2 seconds.",
"Dieser Test besteht aus 8 Durchläufen, es geht jedoch immer um das gleiche akustische Merkmal, den Nachhall. Nach jedem Durchlauf wird der Wertebereich der Skala zufällig nach links oder rechts verschoben, sodass z. B. nicht mehr Nachhallzeiten von 1,5–2 Sekunden, sondern Nachhallzeiten von 1,7–2,2 Sekunden abgebildet werden.",
"Dieser Test besteht aus 8 Durchläufen, es geht jedoch immer um das gleiche akustische Merkmal, den Nachhall. Nach jedem Durchlauf wird der Wertebereich der Skala zufällig nach links oder rechts verschoben, sodass z. B. nicht mehr Nachhallzeiten von 1,5–2 Sekunden, sondern Nachhallzeiten von 1,7–2,2 Sekunden abgebildet werden.",
"RMT_DEMO_BUTTON",    "Start test",                           "Test beginnen",                                          "Test beginnen",
"RMT_FEEDBACK_HEADER","Listening test completed",             "Hörtest abgeschlossen",                                  "Hörtest abgeschlossen",
"RMT_FEEDBACK_TEXT1" ,"Congratulations, your mean error is",  "Herzlichen Glückwunsch, Ihr mittlerer Fehler liegt bei", "Herzlichen Glückwunsch, Ihr mittlerer Fehler liegt bei",
"RMT_FEEDBACK_TEXT2", "scale steps",                          "Stufen",                                                 "Stufen",
"RMT_FEEDBACK_PLOT",  "Your test score in %",                 "Ihr Testscore in %",                                     "Ihr Testscore in %"
)
prompts_RRT_RMT <- tibble::tribble(
~key,                 ~en,                                    ~de,                                            ~de_f,
"RRT_ITEM_HEADER",    "Room Recognition Test",                "Wiedererkennen des Raums",                     "Wiedererkennen des Raums",
"RRT_ITEM_PROMPT",    "Which sounds are from the SAME room?", "Welche Klänge stammen aus dem gleichen Raum?", "Welche Klänge stammen aus dem gleichen Raum?",
"RRT_DEMO_HEADER",    "Introduction: Listening Test 1",       "Einführung: 1. Hörtest",                       "Einführung: 1. Hörtest",
"RRT_DEMO_PROMPT",
"In this listening test, you will be presented with three different sounds: A, B, and X. A and B have different spatial characteristics, and the sound X matches either A or B. Your task is to identify whether A and X or B and X come from the same acoustic environment. You can start and stop playback by clicking the respective buttons. There are 20 trials in this test, and in each one, the rooms and the associated sound examples change. Take your time and listen carefully to the differences between the examples.",
"Im folgenden Hörtest werden Ihnen jeweils drei verschiedene Klänge präsentiert: A, B und X. A und B haben einen unterschiedlichen Raumklang, der von X entspricht entweder dem von A oder von B. Ihre Aufgabe ist es, zu erkennen, ob entweder A und X oder B und X aus dem gleichen Raum stammen. Durch Klicken der jeweiligen Schaltflächen können Sie die Wiedergabe starten und stoppen. Es gibt 20 Durchläufe bei diesem Versuch, in jedem wechseln die Räume und die zugeordneten Klangbeispiele. Nehmen Sie sich ruhig Zeit für den Versuch und hören Sie aufmerksam auf die Unterschiede zwischen den Beispielen.",
"Im folgenden Hörtest werden Ihnen jeweils drei verschiedene Klänge präsentiert: A, B und X. A und B haben einen unterschiedlichen Raumklang, der von X entspricht entweder dem von A oder von B. Ihre Aufgabe ist es, zu erkennen, ob entweder A und X oder B und X aus dem gleichen Raum stammen. Durch Klicken der jeweiligen Schaltflächen können Sie die Wiedergabe starten und stoppen. Es gibt 20 Durchläufe bei diesem Versuch, in jedem wechseln die Räume und die zugeordneten Klangbeispiele. Nehmen Sie sich ruhig Zeit für den Versuch und hören Sie aufmerksam auf die Unterschiede zwischen den Beispielen.",
"RRT_BUTTON_NEXT",      "Next",                               "Weiter",                                       "Weiter",
"RRT_VALIDATE_ERROR", "Please select an answer!",             "Bitte wählen Sie eine Antwort!",               "Bitte wählen Sie eine Antwort!",
"RRT_DEMO_BUTTON",    "Start test",                           "Test beginnen",                                "Test beginnen",
"RRT_FEEDBACK_HEADER","Listening test completed",             "Hörtest abgeschlossen",                        "Hörtest abgeschlossen",
"RRT_FEEDBACK_TEXT1", "Congratulations, you recognized",      "Herzlichen Glückwunsch, Sie haben",            "Herzlichen Glückwunsch, Sie haben",
"RRT_FEEDBACK_TEXT2", "rooms!",                               "Räume wiedererkannt!",                         "Räume wiedererkannt!",
"RRT_FEEDBACK_PLOT",  "Your test score in %",                 "Ihr Testscore in %",                           "Ihr Testscore in %",
"ENDNOTE_HEADER",     "Thank you for participating!",         "Vielen Dank für Ihre Teilnahme!",              "Vielen Dank für Ihre Teilnahme!",
"ENDNOTE_SAVED",      "Your results have been saved.",        "Ihre Ergebnisse wurden gespeichert.",          "Ihre Ergebnisse wurden gespeichert.",
"ENDNOTE_CLICKWORKER",
"If you are participating via Clickworker, please use this code to confirm your particpation: RALEvalid_2025",
"Wenn Sie über Clickworker teilgenommen haben, nutzen Sie den folgenden Code zur Teilnahmebestätigung: RALEvalid_2025",
"Wenn Sie über Clickworker teilgenommen haben, nutzen Sie den folgenden Code zur Teilnahmebestätigung: RALEvalid_2025",
"ENDNOTE_CLOSE",      "You can close this window now.",       "Sie können dieses Fenster jetzt schließen.",   "Sie können dieses Fenster jetzt schließen.",
"RMT_ITEM_HEADER",    "Reverberation Matching Test",          "Anpassen des Nachhalls",                                 "Anpassen des Nachhalls",
"RMT_ITEM_PROMPT",
"Listen to both sounds and use the slider to match your sound to the target sound",
"Hören Sie sich die Klangbeispiele an und passen Sie den Ihren Klang mit dem Slider an den Zielklang an.",
"Hören Sie sich die Klangbeispiele an und passen Sie den Ihren Klang mit dem Slider an den Zielklang an.",
"RMT_TARGET_LABEL",   "Target sound",                         "Zielklang",                                              "Zielklang",
"RMT_STIMULUS_LABEL", "Your sound",                           "Ihr Klang",                                              "Ihr Klang",
"RMT_BUTTON_NEXT",    "Next",                                 "Weiter",                                                 "Weiter",
"RMT_DEMO_HEADER",    "Introduction: Listening Test 2",       "Einführung: 2. Hörtest",                                 "Einführung: 2. Hörtest",
"RMT_DEMO_PROMPT1",
"This listening test follows the same logic as the timbre perception test you have already completed. Here, too, you will see a scale with 30 comparison sounds. You can start and stop playback of the sounds by clicking the two buttons. It is always the same short instrumental piece, but the comparison sounds are arranged on the scale so that the reverberation decreases from left to right. Listen to a few sounds across the scale to get familiar with the principle.",
"Der folgende Hörtest basiert auf der selben Testlogik wie der Klangwarnehmungstest, den Sie bereits abgeschlossen haben. Auch hier gibt es eine Skale mit diesmal 30 Vergleichsklängen. Durch Klicken der beiden Schaltflächen lässt sich die Audiowiedergabe der jeweiligen Klänge starten und stoppen. Es handelt sich immer um das gleiche kurze Instrumentalstück, die Vergleichsklänge sind auf der Skala jedoch so angeordnet, dass der Nachhall der Klangbeispiele von Links nach Rechts abnimmt. Hören Sie sich exemplarisch ein paar Klänge auf dieser Skala an, um sich mit dem Prinzip vertraut zu machen. ",
"Der folgende Hörtest basiert auf der selben Testlogik wie der Klangwarnehmungstest, den Sie bereits abgeschlossen haben. Auch hier gibt es eine Skale mit diesmal 30 Vergleichsklängen. Durch Klicken der beiden Schaltflächen lässt sich die Audiowiedergabe der jeweiligen Klänge starten und stoppen. Es handelt sich immer um das gleiche kurze Instrumentalstück, die Vergleichsklänge sind auf der Skala jedoch so angeordnet, dass der Nachhall der Klangbeispiele von Links nach Rechts abnimmt. Hören Sie sich exemplarisch ein paar Klänge auf dieser Skala an, um sich mit dem Prinzip vertraut zu machen. ",
"RMT_DEMO_PROMPT2",
"In addition to the scale, a reference sound will be presented, which you can listen to using an extra button. This reference always exactly matches one of the sounds on the scale: Your task is to identify which level on the scale it corresponds to.",
"Zusätzlich zu dieser Skala wird Ihnen im Versuch ein Referenzklang präsentiert, der über eine zusätzliche Schaltfläche angehört werden kann. Diese Referenz entspricht immer genau einem Klang auf der Skala: Ihre Aufgabe ist es, anzugeben, welche Stufe auf der Skala das ist.",
"Zusätzlich zu dieser Skala wird Ihnen im Versuch ein Referenzklang präsentiert, der über eine zusätzliche Schaltfläche angehört werden kann. Diese Referenz entspricht immer genau einem Klang auf der Skala: Ihre Aufgabe ist es, anzugeben, welche Stufe auf der Skala das ist.",
"RMT_DEMO_PROMPT3",
"This test consists of 8 trials, but always focuses on the same acoustic feature: Reverberation. After each trial, the scale’s range will be randomly shifted to the left or right — for example, instead of covering reverberation times from 1.5–2 seconds, it may shift to 1.7–2.2 seconds.",
"Dieser Test besteht aus 8 Durchläufen, es geht jedoch immer um das gleiche akustische Merkmal, den Nachhall. Nach jedem Durchlauf wird der Wertebereich der Skala zufällig nach links oder rechts verschoben, sodass z. B. nicht mehr Nachhallzeiten von 1,5–2 Sekunden, sondern Nachhallzeiten von 1,7–2,2 Sekunden abgebildet werden.",
"Dieser Test besteht aus 8 Durchläufen, es geht jedoch immer um das gleiche akustische Merkmal, den Nachhall. Nach jedem Durchlauf wird der Wertebereich der Skala zufällig nach links oder rechts verschoben, sodass z. B. nicht mehr Nachhallzeiten von 1,5–2 Sekunden, sondern Nachhallzeiten von 1,7–2,2 Sekunden abgebildet werden.",
"RMT_DEMO_BUTTON",    "Start test",                           "Test beginnen",                                          "Test beginnen",
"RMT_FEEDBACK_HEADER","Listening test completed",             "Hörtest abgeschlossen",                                  "Hörtest abgeschlossen",
"RMT_FEEDBACK_TEXT1" ,"Congratulations, your mean error is",  "Herzlichen Glückwunsch, Ihr mittlerer Fehler liegt bei", "Herzlichen Glückwunsch, Ihr mittlerer Fehler liegt bei",
"RMT_FEEDBACK_TEXT2", "scale steps",                          "Stufen",                                                 "Stufen",
"RMT_FEEDBACK_PLOT",  "Your test score in %",                 "Ihr Testscore in %",                                     "Ihr Testscore in %"
)
rm(prompts_RRT)
prompts_intro_data <- tibble::as_tibble(xlsx::read.xlsx(paste0("C:/Users/berg_m/OneDrive - Hochschule Düsseldorf/BackUp/Dissertation/MMBI-Projekt/dict_Data.xlsx"),sheetIndex=1))
prompts_RALE <- rbind(prompts_RRT_RMT,prompts_intro_data)
RALE_dict <- psychTestR::i18n_dict$new(prompts_RALE)
save(RALE_dict,file="~/R/psychTestR_custom/RALE_dict.rda")
rm(list=ls())
check()
library(devtools)
check()
check()
library(devtools)
library(devtools)
check()
install.packages("raleR")
library(devtools)
check()
install.packages("raleR")
detach("package:raleR",unload=TRUE)
detach(raleR)
detach(raleR)
detach("package:raleR",unload=TRUE)
detach_package <- function(pkg, character.only = FALSE)
{
if(!character.only)
{
pkg <- deparse(substitute(pkg))
}
search_item <- paste("package", pkg, sep = ":")
while(search_item %in% search())
{
detach(search_item, unload = TRUE, character.only = TRUE)
}
}
detach_package("raleR")
library(devtools)
check()
library(devtools)
devtools::load_all(".")
check()
library(devtools)
check()
install()
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#EXP,
#laerm,
#xRALE,
raleR::rand_pick_TPT_RMT(),
psyquest::GMS(subscales = c("Perceptual Abilities",
"Musical Training")),
#RRT Test
raleR::RRTbattery(
N_items = 2,
url = "https://github.com/mvonberg/RoomRecognitionTest/raw/main/AudioFiles/",
range = (10:50)[(10:50) %% 2 == 0],
baseline = 10,
source = "Git",
dict=RRT_dict
),
#psychTestR::elt_save_results_to_disk(complete = TRUE),
psychTestR::new_timeline(
final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
?rand_pick_TPT_RMT
url_dir <- "https://github.com/mvonberg/RoomRecognitionTest/raw/main/AudioFiles/"
RMT_targets <- c(10, 20, 24, 28, 32, 36, 40, 42)
RMT_sliderLength <- 30
RRT_N_items <- 2
RRT_range <- (10:50)[(10:50) %% 2 == 0]
RRT_baseline <- 10
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#EXP,
#laerm,
#xRALE,
# RMT or TPT
raleR::rand_pick_TPT_RMT(RMT_url_dir=url_dir, RMT_targets=RMT_targets, RMT_sliderLength=RMT_sliderLength),
# Gold-MSI
psyquest::GMS(subscales = c("Perceptual Abilities", "Musical Training")),
#RRT Test
raleR::RRTbattery(N_items=RRT_N_items, url=url_dir, range=RRT_range, baseline=RRT_baseline, source="Git"),
#End page
psychTestR::new_timeline(
final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
devtools::install_github('fmhoeger/psyquest')
devtools::install_github('fmhoeger/psyquest',force=TRUE)
psyquest::psyquest_dict
as.data.frame(psyquest::psyquest_dict)$key
prompts_psyquest <- psyquest::psyquest_dict$as.data.frame()
library(psychTestR)
prompts_psyquest <- psyquest::psyquest_dict$as.data.frame()
for (i in 1:nrow(prompts_psyquest)) {
psyquest::psyquest_dict$edit(key = prompts_psyquest$key[i],
language = "de_f",
new = prompts_psyquest$de[i])
}
for (i in 1:nrow(prompts_psyquest)) {
psyquest::psyquest_dict$new(key = prompts_psyquest$key[i],
language = "de_f",
new = prompts_psyquest$de[i])
}
prompts_psyquest <- psyquest::psyquest_dict$as.data.frame()
prompts_psyquest$de_f <- prompts_psyquest$de # create a "de_f" translation by cloning the "de" entries
psyquest_dict_de_f <- psyquest::psyquest_dict$new(prompts_psyquest)
psyquest_dict_de_f <- psychTestR::i18n_dict$new(prompts_psyquest)
# some additional manual tweaks to make it more formal
key <- c("CHOOSE_ANSWER",
"CLOSE_BROWSER",
"ENTER_ID",
"RESULTS_SAVED",
"TDEG_0002_PROMPT",
"TDEG_0010_PROMPT")
text <- c("Bitte wählen Sie zuerst eine Antwort aus!",
"Sie können dieses Fenster schließen.",
"Bitte geben Sie Ihre ID ein:",
"Ihre Ergebnisse wurden gespeichert.",
"Haben Sie Probleme oder Schwierigkeiten mit dem Hören? (krankheitsbedingt)",
"In welchem Monat & Jahr wurden Sie geboren?")
replacements <- data.frame(key,text)
for (i in 1:nrow(replacements)) {
psyquest::psyquest_dict_de_f$edit(key = replacements$key[i],
language = "de_f",
new = replacements$text[i])
}
for (i in 1:nrow(replacements)) {
psyquest_dict_de_f$edit(key = replacements$key[i],
language = "de_f",
new = replacements$text[i])
}
save(psyquest_dict_de_f,file="~/R/psychTestR_custom/psyquest_dict_de_f.rda")
usethis::use_data(psyquest_dict_de_f)
check()
sprintf("%X",as.integer(charToRaw("ü")))
sprintf("%X",as.integer(charToRaw("Ü")))
sprintf("%X",as.integer(charToRaw("ö")))
sprintf("%X",as.integer(charToRaw("Ö")))
sprintf("%X",as.integer(charToRaw("€")))
sprintf("%X",as.integer(charToRaw("Ä")))
sprintf("%X",as.integer(charToRaw("ä")))
sprintf("%X",as.integer(charToRaw("ß")))
stringi::stri_escape_unicode("ü")
stringi::stri_escape_unicode("Ü")
stringi::stri_escape_unicode("ö")
stringi::stri_escape_unicode("Ö")
stringi::stri_escape_unicode("ä")
stringi::stri_escape_unicode("Ä")
stringi::stri_escape_unicode("ß")
check()
check()
install()
library(devtools)
check()
install()
url_dir <- "https://github.com/mvonberg/RoomRecognitionTest/raw/main/AudioFiles/"
RMT_targets <- c(10, 20, 24, 28, 32, 36, 40, 42)
RMT_sliderLength <- 30
RRT_N_items <- 2
RRT_range <- (10:50)[(10:50) %% 2 == 0]
RRT_baseline <- 10
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#DEG(subscales = c("Hearing Impairment", "Type of Hearing Impairment", "Gender", "Age"),dict=raleR::psyquest_dict_de_f),
#EXP,
#laerm,
#xRALE,
# RMT or TPT
raleR::rand_pick_TPT_RMT(RMT_url_dir=url_dir, RMT_targets=RMT_targets, RMT_sliderLength=RMT_sliderLength),
# Gold-MSI
psyquest::GMS(subscales = c("Perceptual Abilities", "Musical Training"),dict=raleR::psyquest_dict_de_f),
#RRT Test
raleR::RRTbattery(N_items=RRT_N_items, url=url_dir, range=RRT_range, baseline=RRT_baseline, source="Git"),
#End page
psychTestR::new_timeline(
final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de_f"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#DEG(subscales = c("Hearing Impairment", "Type of Hearing Impairment", "Gender", "Age"),dict=raleR::psyquest_dict_de_f),
#EXP,
#laerm,
#xRALE,
# RMT or TPT
raleR::rand_pick_TPT_RMT(RMT_url_dir=url_dir, RMT_targets=RMT_targets, RMT_sliderLength=RMT_sliderLength),
# Gold-MSI
psyquest::GMS(subscales = c("Perceptual Abilities", "Musical Training"),dict=raleR::psyquest_dict_de_f),
#RRT Test
raleR::RRT_battery(N_items=RRT_N_items, url=url_dir, range=RRT_range, baseline=RRT_baseline, source="Git"),
#End page
psychTestR::new_timeline(
final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de_f"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#DEG(subscales = c("Hearing Impairment", "Type of Hearing Impairment", "Gender", "Age"),dict=raleR::psyquest_dict_de_f),
#EXP,
#laerm,
#xRALE,
# RMT or TPT
raleR::rand_pick_TPT_RMT(RMT_url_dir=url_dir, RMT_targets=RMT_targets, RMT_sliderLength=RMT_sliderLength),
# Gold-MSI
psyquest::GMS(subscales = c("Perceptual Abilities", "Musical Training"),dict=raleR::psyquest_dict_de_f),
#RRT Test
raleR::RRT_battery(N_items=RRT_N_items, url=url_dir, range=RRT_range, baseline=RRT_baseline, source="Git"),
#End page
psychTestR::new_timeline(
psychTestR::final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de_f"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
psychTestR::make_test(
elts = psychTestR::join(
intro_datapolicy(),
#DEG(subscales = c("Hearing Impairment", "Type of Hearing Impairment", "Gender", "Age"),dict=raleR::psyquest_dict_de_f),
#EXP,
#laerm,
#xRALE,
# RMT or TPT
raleR::rand_pick_TPT_RMT(RMT_url_dir=url_dir, RMT_targets=RMT_targets, RMT_sliderLength=RMT_sliderLength),
# Gold-MSI
#psyquest::GMS(subscales = c("Perceptual Abilities", "Musical Training"),dict=raleR::psyquest_dict_de_f),
#RRT Test
raleR::RRT_battery(N_items=RRT_N_items, url=url_dir, range=RRT_range, baseline=RRT_baseline, source="Git"),
#End page
psychTestR::new_timeline(
psychTestR::final_page(shiny::div(shiny::h3(psychTestR::i18n("ENDNOTE_HEADER")),
shiny::p(psychTestR::i18n("ENDNOTE_SAVED")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLICKWORKER")),
shiny::br(),
shiny::p(psychTestR::i18n("ENDNOTE_CLOSE"))
)),
dict = raleR::RALE_dict
)
),
opt = psychTestR::demo_options(
languages=c("en","de_f"),
researcher_email = "markusmartin.vonberg@hs-duesseldorf.de",admin_password = "1234"
)
)
update_packages("htmltools")
